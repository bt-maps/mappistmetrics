<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mappist-metrics</title>
    <meta name="description" content="A lean, mean geospatial computing machine">
    <meta name="keywords" content="geospatial,redis,gis,postgis,tile38,RESP,maps,nginx">
    <meta property="og:title" content="mappist-metrics">
    <meta property="og:url" content="https://github.com/bt-maps/mappistmetrics/">
    <meta property="og:description" content="A lean, mean geospatial computing machine">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://newcss.net/_assets/og.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/open-fonts@1.1.1/fonts/inter.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <link rel="stylesheet" href="terminal.css">
</head>
<body>
    <header>
        <h1>mappist-metrics</h1>
        <nav>
            <a href="https://github.com/bt-maps/mappistmetrics/">Home</a> /
            <a href="https://github.com/bt-maps/mappistmetrics/">GitHub</a> / 
            
        </nav>
    </header>

    <h2>Instant metrics for realtime, location-based interactions</h2>

    <br>
    

    <blockquote><i>The <a href="https://github.com/bt-maps/mappistmetrics/">mappist-metrics server</a> is a set of scripts and configuration files to run a powerful application server 
        for geofencing, counters, and timeseries data. It speaks HTTP, WebSockets, Server-Sent Events, RESP and it's <strong>FAST!</strong></i> </blockquote>
    
    <a href="https://choosealicense.com/licenses/wtfpl/"><img src="wtfpl-badge-1.png" width="88" height="31" alt="WTFPL"></a>
    <br>

    <p>It's perfect for applications that need low-latency and high-performance:</p>

    <ul>
        <li>Building fast geospatial and timeseries APIs with Redis and Tile38</li>
        <li>Realtime counting engines and leaderboards</li>
        <li>Timeseries storage and aggregation</li>
        <li>Publish-subscribe servers with notifications over websocket and SSE</li>
        <li>Fast data ingestion for your moving object data </li>
        <li>Receiving and aggregating data from your company's transactional system (sales, etc.)</li>
    </ul>

    
    <br>
    <h2>Components</h2>
    <dl>
        <dt><a href="https://openresty.org/en/"><mark>OpenResty</mark></a></dt>
        <dd>Dynamic web platform based on NGINX and LuaJIT</dd>
        <dt><a href="https://nchan.io"><mark>NCHAN</mark></a></dt>  
        <dd>Scalable, flexible pub/sub server for the modern web</dd>
        <dt><a href="https://tile38.com"><mark>Tile38</mark></a></dt>
        <dd>Ultra fast geospatial database & geofencing server</dd>
        <dt><a href="https://redis.io"><mark>Redis</mark></a></dt>
        <dd>In-memory data structure server</dd>
        <dt><a href="https://lua.org"><mark>Lua</mark></a></dt>
        <dd>A powerful, dynamic and light-weight programming language</dd>
    </dl>
    <br>

    <table>
        <caption>Lots of features - use the ones you need</caption>
        <thead>
            <tr>
                <th>Feature</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Webhooks</td>
                <td>Receive, store, and publish Tile38 webhooks (over WebSockets or SSE)</td>
            </tr>
            <tr>
                <td>Subscribe to channels</td>
                <td>Connect to on-demand geofence/roaming object channels for ephemeral notifications over WebSockets</td>
            </tr>
            <tr>
                <td>Queryable time series </td>
                <td>A range can be rolled up into buckets and aggregated</td>
            </tr>
            <tr>
                <td>Counting</td>
                <td>A live, scalable and easy to use counting solution for a wide range of scenarios</td>
            </tr>
            <tr>
                <td>Leaderboard (Ordered Sets)</td>
                <td>Save the counters data in order</td>
            </tr>
            <tr>
                <td>Geofence Interactions</td>
                <td>Store, manage, and read geofence interactions (ENTER and EXIT events) </td>
            </tr>
            <tr>
                <td>Asset Geodata</td>
                <td>Store and manage moving object and static geospatial features</td>
            </tr>
        </tbody>
    </table>

    <br>

    <h2>Typical workflow:</h2>

    <ol>
        <li>configure and set your geofences, webhooks, and counters </li>
        <li>ingest your moving object data</li>
        <li>retrieve your geospatial data, notifications, counters, raw and aggregated timeseries using the HTTP API and pub/sub endpoints</li>
    </ol>

    <br>
    <hr>

<!--     <blockquote><i>mappist-metrics server is not an out-of-the-box solution. We use scripting to glue together best-in-class tools 
        (<a href="https://openresty.org/en/">OpenResty</a>,
        <a href="https://redis.io/">Redis</a>, 
        <a href="https://tile38.com/">Tile38</a>) 
        to build a low-latency, high-performance server.
        
    </i> </blockquote> -->
    
    <br>
    <p>
        I recommend <mark>ZeroBrane Studio</mark> for scripting. It is a lightweight Lua IDE with code completion, syntax highlighting, live coding, code analyzer, and debugging support <a href="https://studio.zerobrane.com/support">Download</a>
    </p>
    <br>    
    <hr>
     Questions? - <a href="https://github.com/bt-maps">contact me</a>
    <br>    
    <hr>
    <img src="concept1.png" alt="high level app diagram">
    <br>    

</body>